// cs protocol
syntax = "proto3";

package zonepb.advertisementpb;
option go_package = "git.code.oa.com/red/zonesvr/pkg/proto/zonepb/advertisementpb";

import "corepb/common.proto";

service Service {
  rpc SetDND(SetDNDRequest) returns (SetDNDReply);  // 设置免打扰
}

message AdvertItem {
  int64 id = 1;  // 广告图 ID
  enum AdvertType {
    ADVERT_TYPE_UNKNOWN = 0;
    ADVERT_TYPE_MALL    = 1;  // 商城弹窗
    ADVERT_TYPE_ACT     = 2;  // 活动弹窗
    ADVERT_TYPE_BP      = 3;  // BP 弹窗
  }
  AdvertType type            = 2;   // 广告图类型
  int64 relevant             = 3;   // 关联对象
  int64 duration_seconds     = 4;   // 持续时间（秒）
  string name                = 5;   // 名称
  string desc                = 6;   // 描述
  string time_desc           = 7;   // 时间描述
  int64 time_desc_time_begin = 8;   // 用于时间描述的开始时间，如果没有则为 0
  int64 time_desc_time_end   = 9;   // 用于时间描述的结束时间，如果没有则为 0
  string go_desc             = 10;  // 跳转文本
  enum DNDType {
    DND_TYPE_UNKNOWN = 0;
    DND_TYPE_DAY     = 1;  // 本日不再弹出
    DND_TYPE_WEEK    = 2;  // 本周不再弹出
    DND_TYPE_FOREVER = 3;  // 不再弹出
    DND_TYPE_NONE    = 4;  // 无选项
  }
  DNDType dnd                          = 11;  // 免打扰选项
  int64 go_interface                   = 12;  // 跳转界面 ID
  corepb.Item currency                 = 13;  // 货币道具
  string resource                      = 14;  // 客户端资源
  repeated corepb.Item preview_rewards = 15;  // 奖励预览
  int64 share_id                       = 16;  // 分享 id
  string bg_img                        = 17;  // 背景
  string role_img                      = 18;  // 角色立绘
  string sedai_img                     = 19;  // 背景色带
  string role_name_img                 = 20;  // 角色名称
  string url_resource                  = 21;  // 远程拍脸图
}

message AdvertInfoNTF {
  repeated AdvertItem items_to_show = 1;  // 需要展示的广告图
}

message SetDNDRequest {
  int64 id     = 1;  // 广告图 ID
  bool checked = 2;  // 是否选中
}

message SetDNDReply {
  bool checked = 1;  // 是否选中
}
