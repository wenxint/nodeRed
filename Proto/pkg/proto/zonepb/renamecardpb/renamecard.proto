// cs protocol
syntax = "proto3";

package zonepb.renamecardpb;

option go_package = "git.code.oa.com/red/zonesvr/pkg/proto/zonepb/renamecardpb";
import "corepb/common.proto";

// 改名卡系统
service RenameCardService {
  // 查询改名卡信息
  rpc QueryRenameCardShop(QueryRenameCardShopRequest) returns (QueryRenameCardShopReply);
  // 购买改名卡
  rpc BuyRenameCard(BuyRenameCardRequest) returns (BuyRenameCardReply);
}

message QueryRenameCardShopRequest {
  int64 buy_count = 1;  // 玩家选择的购买次数.
}

message QueryRenameCardShopReply {
  int64 weekly_buy_count_limit   = 1;  // 每周购买次数上限
  int64 weekly_buy_count         = 2;  // 当周已购买次数
  repeated corepb.Item next_cost = 3;  // 下次购买消耗, 随每周购买次数逐步提升消耗
  repeated Cost costs            = 4;  // 购买次数对应的消耗
}

message Cost {
  int64 bought_count        = 1;  // 已购买次数
  repeated corepb.Item cost = 2;  // 消耗
}

message BuyRenameCardRequest {
  int64 buy_count = 1;  // 玩家选择的购买次数
}

message BuyRenameCardReply {
  int64 weekly_buy_count_limit   = 1;  // 每周购买次数上限
  int64 weekly_buy_count         = 2;  // 当周已购买次数
  repeated corepb.Item next_cost = 3;  // 下次购买消耗, 随当天购买次数逐步提升消耗(下次选择购买1次的金币等道具)
}
