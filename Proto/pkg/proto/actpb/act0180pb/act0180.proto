// cs protocol
syntax = "proto3";

package actpb.act0180pb;
option go_package = "git.woa.com/red/actsvr/pkg/proto/actpb/act0180pb";


import "corepb/common.proto";
import "pkg/proto/actpb/commonpb/common.proto";

service CSAct0180Service {
  rpc ActGetTaskAward(ActGetTaskAwardRequest) returns (ActGetTaskAwardReply);
  rpc ActClaimHiddenReward(ActClaimHiddenRewardRequest) returns (ActClaimHiddenRewardReply);
}

message ActGetDetailRequest {}

message ActGetDetailReply {
  repeated actpb.commonpb.Task task_list = 2;
  int64 continue_login_days              = 3;
  message TaskQuality {
    int32 id      = 1;
    int64 quality = 2;
  }
  repeated TaskQuality task_quality             = 4;
  corepb.Item hidden_rewards                    = 5;  // 隐藏奖励内容
  bool show_act130_entrance                     = 6;  // 是否显示活动130入口
  repeated actpb.commonpb.Task act130_task_list = 7;
  repeated TaskQuality act130_task_quality      = 8;
}

message ActGetTaskAwardRequest {
  int32 task_id                                       = 1;
  repeated corepb.GiftSelectedItem gift_selected_item = 2;  // 可选礼包选中道具信息
}

message ActGetTaskAwardReply {
  actpb.commonpb.Task task                    = 1;  // 领取后的任务信息
  repeated corepb.Item awards                 = 3;  // 领取到的奖励列表
  repeated actpb.commonpb.Task received_tasks = 4;  // 领取后的任务信息列表（现在支持批量领取）
}

message ActClaimHiddenRewardRequest {}

message ActClaimHiddenRewardReply {
  corepb.Item hidden_rewards = 1;  // 隐藏奖励信息
}